---
description: Initialize project context structure
---

# Initialize Context

Initialize the `.contexts/` directory structure for project documentation and context management.

**Usage**: `/contexts:init`

## What This Command Does

This command creates the foundational directory structure for managing project context:

- Creates `.contexts/` root directory if it doesn't exist
- Sets up subdirectories: `adrs/`, `specs/`, `conventions/`

The command only creates the directory structure. Context documentation is generated automatically by other commands when you work on features or make architectural decisions.

## Implementation

**Step 1: Update or Create CLAUDE.md**

Add agent usage instructions to the beginning of CLAUDE.md:

1. Check if `CLAUDE.md` exists in the project root
2. If it exists, read its current content
3. Prepend the following instructions to the file (or create it if it doesn't exist):

```markdown
## IMPORTANTE: Antes de Ejecutar Cualquier Tarea

**SIEMPRE** llama primero al agente `context-engineer` para cargar el contexto apropiado antes de ejecutar cualquier tarea:

Usa el agente context-engineer con la descripción de la tarea para:
- Cargar contexto relevante de .contexts/
- Identificar ADRs aplicables
- Revisar especificaciones relacionadas
- Cargar convenciones del proyecto
- Proporcionar recomendaciones de implementación

## Uso de Agentes Especializados

Según la tarea pedida por el usuario, asegúrate de llamar a los agentes pertinentes:

### Product Owner (product-owner)
Úsalo cuando:
- Se necesite definir QUÉ construir (no CÓMO)
- Para crear PRDs o especificaciones JTBD
- Al priorizar características o decidir qué construir
- Para validar métricas post-lanzamiento
- Cuando haya que decir NO a características innecesarias

### Design System Manager (design-system-manager)
Úsalo cuando:
- Se inicialice el sistema de diseño del proyecto
- Se necesiten especificaciones de componentes UI
- Se actualicen colores, tipografía o espaciado
- Se audite consistencia visual
- Se registren nuevos componentes

### Rails Architect (rails-architect)
Úsalo cuando:
- Se diseñe arquitectura de nuevas características
- Haya decisiones arquitectónicas (Service Objects, patrones, etc.)
- Se revise código contra principios SOLID/KISS/YAGNI
- Se refactorice código complejo
- Se necesiten decisiones sobre REST vs rutas personalizadas

### Tailwind Specialist (tailwind-specialist)
Úsalo cuando:
- Se implementen componentes UI con Tailwind CSS
- Se configure Tailwind en el proyecto
- Se optimice rendimiento de bundles CSS
- Se implemente dark mode o temas
- Haya problemas de estilos con Tailwind

### Hotwire Specialist (hotwire-specialist)
Úsalo cuando:
- Se implementen características interactivas
- Se necesite edición inline, modales, actualizaciones en tiempo real
- Haya que decidir entre Turbo Frames, Streams o Stimulus
- Se debuggeen problemas de Turbo o Stimulus
- Se implementen broadcasts con ActionCable

### Context Engineer (context-engineer)
Úsalo:
- **SIEMPRE al inicio de cualquier tarea** (obligatorio)
- Al refactorizar o planificar implementaciones
- Para recuperar decisiones arquitectónicas pasadas
- Al actualizar contexto tras cambios importantes
- Cuando se necesite onboarding en el proyecto

### Feature Flow Manager (feature-flow-manager)
Úsalo cuando:
- Se revise el estado del pipeline de características
- Se actualice el estado de características (Discovery → Development → Review → Production)
- Se reporten blockers o métricas de flujo
- Se archiven características completadas
- Se necesite capacidad de planificación

---

```

4. Save the updated file

**Step 2: Create Directory Structure**

Create the base structure:

```bash
mkdir -p .contexts/adrs
mkdir -p .contexts/specs
mkdir -p .contexts/conventions
```

**Step 3: Verify Structure**

Verify the directories were created:

```bash
tree .contexts -L 1
```

**Step 4: Report Success**

Report to user:
- "Context directory structure initialized successfully."
- "CLAUDE.md has been updated with agent usage instructions."
- List the created directories
- Explain that documentation will be generated automatically as you work

## Success Criteria

- `CLAUDE.md` exists and contains agent usage instructions at the beginning
- `.contexts/` directory exists
- Subdirectories created: `adrs/`, `specs/`, `conventions/`
- User informed of successful initialization
- User understands that content is generated by other workflows
- User understands the importance of calling `context-engineer` before any task
